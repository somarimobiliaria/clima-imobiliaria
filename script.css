const apiKey = '0220be233357c16ece1bbcfa7d6b8933';  // Sua chave de API
const cidade = 'São Paulo';  // Cidade desejada

// Função para atualizar o clima
function atualizarClima() {
    const url = `https://api.hgbrasil.com/weather?key=${apiKey}&city_name=${cidade}&user_ip=meu_ip`;

    fetch(url)
        .then(response => response.json())
        .then(data => {
            if (data && data.results) {
                // Exibindo os dados na página
                document.getElementById('localizacao').innerText = data.results.city;
                document.getElementById('descricao-clima').innerText = data.results.description;
                document.getElementById('temperatura').innerText = `${data.results.temp}°C`;
                document.getElementById('umidade').innerText = `Umidade: ${data.results.humidity}%`;

                // Atualizando o ícone do clima
                const iconeUrl = `https://www.hgbrasil.com/weather/images/${data.results.icon}.png`;
                document.getElementById('icone-clima').src = iconeUrl;
            } else {
                console.error('Erro: Dados não encontrados');
            }
        })
        .catch(error => console.error('Erro ao buscar dados do clima:', error));
}

// Atualizar o clima a cada 10 minutos (600000ms)
setInterval(atualizarClima, 600000);

// Chama a função para uma primeira atualização ao carregar a página
atualizarClima();
